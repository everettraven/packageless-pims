"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[197],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return f}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),p=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=p(e.components);return i.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=p(n),f=a,h=m["".concat(c,".").concat(f)]||m[f]||u[f]||r;return n?i.createElement(h,o(o({ref:t},s),{},{components:n})):i.createElement(h,o({ref:t},s))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7398:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return p},toc:function(){return s},default:function(){return m}});var i=n(7462),a=n(3366),r=(n(7294),n(3905)),o=["components"],l={title:"Creating a pim configuration file",id:"create-pim-config"},c=void 0,p={unversionedId:"create-pim-config",id:"create-pim-config",title:"Creating a pim configuration file",description:"When creating a new pim configuration file you should take into consideration the following information:",source:"@site/docs/create-pim-config.md",sourceDirName:".",slug:"/create-pim-config",permalink:"/packageless-pims/create-pim-config",editUrl:"https://github.com/everettraven/packageless-pims/edit/main/docs/docs/create-pim-config.md",tags:[],version:"current",frontMatter:{title:"Creating a pim configuration file",id:"create-pim-config"},sidebar:"sidebar",previous:{title:"Create a pims repository",permalink:"/packageless-pims/create-pim-repo"}},s=[{value:"Create the pim configuration file",id:"create-the-pim-configuration-file",children:[],level:2},{value:"Add the configuration",id:"add-the-configuration",children:[],level:2}],u={toc:s};function m(e){var t=e.components,n=(0,a.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"When creating a new pim configuration file you should take into consideration the following information:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"packageless pim configuration files ",(0,r.kt)("strong",{parentName:"li"},"MUST")," be in HCL and packageless expects the files to have the extension ",(0,r.kt)("inlineCode",{parentName:"li"},".hcl")),(0,r.kt)("li",{parentName:"ol"},"When installing a pim, packageless will try to find a suitable pim configuration file by looking for a file with the pattern: ",(0,r.kt)("inlineCode",{parentName:"li"},"{pimName}.hcl")," where ",(0,r.kt)("em",{parentName:"li"},"{pimName}")," is the name of the pim being installed. For example, if I ran ",(0,r.kt)("inlineCode",{parentName:"li"},"packageless install python")," it would look for ",(0,r.kt)("em",{parentName:"li"},"python.hcl"))),(0,r.kt)("h2",{id:"create-the-pim-configuration-file"},"Create the pim configuration file"),(0,r.kt)("p",null,"Create a new file with the name following the format: ",(0,r.kt)("inlineCode",{parentName:"p"},"{pimName}.hcl")," where ",(0,r.kt)("em",{parentName:"p"},"{pimName}")," should be replaced with the name of the pim you are creating."),(0,r.kt)("h2",{id:"add-the-configuration"},"Add the configuration"),(0,r.kt)("p",null,"Here is a basic template for a pim configuration file that includes all the required values:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-hcl"},'pim "name" {\n    base_dir = "/base/"\n\n    version "latest" {\n        image="image/image:latest"\n\n        port=3000\n    }\n}\n')),(0,r.kt)("p",null,'This configuration defines a pim named "name" that creates a directory called "base" where it will expect all of its files to be. It also defines a version "latest", which is required for a pim to define at least one version named "latest". packageless will default to using the "latest" version if a user does not specify a specific version. Inside the version block, the image associated with the version is given. This is the image that will be pulled from the container registry packageless is pointed to. Also inside the version block we specify a port value, currently this field is required and can be any port value.'),(0,r.kt)("p",null,"Optional blocks that can be added within the version block are:\n",(0,r.kt)("inlineCode",{parentName:"p"},"volume"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-hcl"},'volume {\n    path="/path/on/host"\n    mount="/path/in/container"\n}\n')),(0,r.kt)("p",null,"this block declares that the pim should be run with a volume where the path value is mounted to the container path given as the mount value."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-hcl"},'volume {\n    mount="/path/in/container"\n}\n')),(0,r.kt)("p",null,"this block declares that the pim should be run with a volume where the current working directory is mounted to the container path given as the mount value."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"copy"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-hcl"},'copy {\n    source="/path/in/container"\n    dest="/path/on/host"\n}\n')),(0,r.kt)("p",null,"this block declares that we need to copy the files/directories from within the container using the path specified in the source value to the host filesystem using the path specified in the dest value."),(0,r.kt)("p",null,"Modify the pim configuration template to suite your needs and you are good to go!"))}m.isMDXComponent=!0}}]);